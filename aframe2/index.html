<html>
  <head>
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <title>RV | clase1</title>
  </head>
  <body>
    
    
    <script>
      var cont=0;
      function contador(){
        if(cont < 7)
        {
          cont++
          console.log(cont);
        }else
        {
          cont=0;
          
          console.log("Tiempo!")
        }
      }
      AFRAME.registerComponent('cursor-listener',{
        init: function(){
          console.log("programa inicializado");
          
          this.el.addEventListener("mouseenter",
            function(e){
              console.log("enter");
              this.setAttribute('material','color',"yellow");
              
            });

            this.el.addEventListener("mouseleave",
            function(e){
              console.log("leave");
              this.setAttribute('material','color',"none");
              
            });
            
            this.el.addEventListener("click", 
            function(e){
                console.log("click");
                state=1;
                this.setAttribute('material','color',"green");
                window.open("https://www.vectorid.mx/");
                
            });
        }
      });
    </script>
      
    <a-scene 
      inspector="url: https://aframe.io/releases/0.3.0/aframe-inspector.min.js"
      
      >
      

      <a-assets>
          <img id="normal1" src="texturas/woodTextureNormal.png">
          <img id="piso" src="texturas/piso.jpg">
          <img id="pisoNormal" src="texturas/pisoNormal.png">
          <img id="cielo" src="texturas/cielo2.jpg">
          <a-asset-item id="dead" src="deadpool/scene.gltf"></a-asset-item>
      </a-assets>

      <a-entity 
        camera 
        look-controls
        position="0 3 0">
          <a-entity 
          cursor="fuse: true; fuse-timeout: 2000"
          position="0 0 -1"
          geometry="primitive:ring;
          radiusInner:0.03;
          radiusOuter:0.04;"
          material="
          color:#FE2E64;">
        </a-entity>
      </a-entity>

      <a-entity 
      position="0 5 -9"
      >
        <a-entity 
          
          gltf-model="#dead" 
          position="0 0 0" 
          rotation="0 0 0" 
          scale="1 1 1" 
          visible="true"
        ></a-entity>

        <a-animation
          attribute="rotation"
          dur="10000"
          from="0 0 0"
          to="0 360 0"
          easing="linear"
          repeat="indefinite"
          direction="normal"
        ></a-animation>
      </a-entity>

      
      <a-box id="caja" cursor-listener position="-5 2 -9">

      </a-box>
      <a-box 
      cursor-listener 
        normal-texture-repeat="2 1" 
        normal-scale="1 -1" 
        position="0 3 -5.34"  
        rotation="0 0 0" 
        scale="1 1 1" 
        visible="true" 
        material="src:texturas/woodTexture.png;
        repeat:2 1;
        normalMap:#normal1;
        roughness:0.9" >
      </a-box>

      <a-plane 
        src="#piso"
        normal-map="#pisoNormal"
        normal-texture-repeat="10 10"
        repeat="10 10"
        position="0 0 0" 
        rotation="-90 0 0" 
        width="40" 
        height="40" 
        roughness="0.9"
        >
      </a-plane>

      <a-sky 
        color="#ECECEC"
        src="#cielo"
        position="0 0 0"

      ></a-sky>
    </a-scene>
    <h1>Que onda</h1>
    <script>
      function saludo()
      {
        console.log("saludar");
      }
      document.getElementById("caja").addEventListener("click",saludo);
    </script>
  </body>
</html>