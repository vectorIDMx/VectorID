<!doctype HTML>
<html>
    <head>
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    </head>
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    
    <!--<script src="https://rawgit.com/nicolocarpignoli/nicolocarpignoli.github.io/master/ar-playground/events.js"></script>-->
    <!--<script src="https://cdn.rawgit.com/elbobo/aframe-multisrc-component/b6d23310/dist/0.3/aframe-multisrc-component.js"></script>-->
    <script src="scripts/multisrc.js"></script>
    <body style='margin : 0px; overflow: hidden;'>
        <!-- we add detectionMode and matrixCodeType to tell AR.js to recognize barcode markers -->
        <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>
                <a-entity light="type: ambient; color: #FFF"></a-entity>
                <a-entity light="type: directional; color: #FFF; intensity: .6" position="-0.5 1 1"></a-entity>
                
            <a-assets>
                <img id="imga" src="images/a.png" >
                <img id="imgb" src="images/b.png" >
                <img id="imgc" src="images/c.png" >
                <img id="imgd" src="images/d.png" >
                <img id="imge" src="images/e.png" >
                <img id="imgf" src="images/f.png" >

                
                

            </a-assets>
            <!--         -->
            
            <a-marker markerhandler emitevents="true" cursor="fuse: false; rayOrigin: mouse" type='pattern' url='redes-marker.patt'>
                  
                <a-entity id="escenaId" position="0 0 0" scale="1 1 1" rotation="0 0 0">
                    
                        <a-entity id="entInstaId" position=".75 125 .25" rotation="0 90 0">
                            <a-plane id="instaId" position=".5 0 0" height="1" width="1" material="src: images/instaBrazo.png;" opacity=".9"
                            >
                            <a-animation 
                            attribute="position"
                            dur="2000"
                            to=".25 .2 0"
                            easing="ease-in-sine"
                            direction="alternate"
                            repeat="indefinite"
                            ></a-animation>
                            </a-plane>
                            <a-animation 
                        attribute="rotation"
                        begin="12000"
                        dur="1000"
                        to="0 0 0"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="rotation"
                        begin="an2"
                        dur="1000"
                        to="0 0 0"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="position"
                        begin="12000"
                        dur="10"
                        to=".75 1.25 .25"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="rotation"
                        begin="an1"
                        dur="1000"
                        to="0 90 0"
                        easing="linear"
                        ></a-animation>
                        
                        
                        </a-entity>
                        <a-entity id="entFaceId" position="-.75 125 .25" rotation="0 270 0">
                            <a-plane id="faceId" position="-.25 0 0" height=".5" width=".5" material="src: images/faceBrazo.png;" opacity=".8"
                            >
                            <a-animation 
                            attribute="position"
                            dur="2000"
                            to="-.25 .2 0"
                            easing="ease-in-sine"
                            direction="alternate"
                            repeat="indefinite"
                            ></a-animation>
                            </a-plane>
                            <a-animation 
                        attribute="rotation"
                        begin="an2"
                        dur="1000"
                        to="0 360 0"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="rotation"
                        begin="an1"
                        dur="1000"
                        to="0 270 0"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="position"
                        begin="an2"
                        dur="10"
                        to="-.75 1.25 .25"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="rotation"
                        begin="an1"
                        dur="1000"
                        to="0 90 0"
                        easing="linear"
                        ></a-animation>
                        
                        
                        </a-entity>

                    <a-box id="aid" position="0 0 0" scale="0 0 0" multisrc="srcs:#imga,#imgb,#imgc,#imgd,#imge,#imgf">
                        <a-animation 
                        attribute="position"
                        begin="2500"
                        dur="1000"
                        to="0 .25 2"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="scale"
                        begin="2500"
                        dur="1000"
                        to="1.5 1.5 1.5"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="rotation"
                        dur="3000"
                        to="0 360 360"
                        easing="linear"
                        repeat="3"
                        ></a-animation>
                        
                        <a-animation 
                        attribute="position"
                        begin="4000"
                        dur="1000"
                        from="0 .25 2"
                        to="0 0 0"
                        easing="linear"
                        ></a-animation>
                        <a-animation 
                        attribute="rotation"
                        begin="12000"
                        dur="1000"
                        
                        to="90 0 0"
                        easing="linear"
                        ></a-animation>
      
                    </a-box>
                    
                    


                </a-entity>

            </a-marker>

            <a-plane  position="-.01 -.03 -.1" width=".02" height=".006" opacity=".3"
            material="src: images/powvector.png"></a-plane>

            <a-plane id="botonVecId" position="-.05 -0.035 -.099" width=".1" height=".03" opacity="0"
            ></a-plane>


            <a-plane position=".015 -.03 -.1" width=".013" height=".01" opacity=".3"
            material="src: images/wa2.png"></a-plane>
            <a-plane id="botonWaId" position="0.05 -0.035 -.099" width=".1" height=".03" opacity="0"></a-plane>
            <!-- use this <a-entity camera> to support multiple-markers, otherwise use <a-marker-camera> instead of </a-marker> -->
            <a-entity camera></a-entity>
        </a-scene>
        
    </body>

    <script>
    var botonV = document.getElementById("botonVecId");
    var botonW = document.getElementById("botonWaId");
    var insta = document.getElementById("instaId");
    var EntInsta = document.getElementById("entInstaId");
    var face = document.getElementById("faceId");
    var EntFace = document.getElementById("entFaceId");

    
    
    



    console.log("inicia")
    botonW.addEventListener("click", function(e)
    {
        window.open("https://api.whatsapp.com/send?phone=+5215544602389&text=Hola!%20quiero%20saber%20m√°s%20sobre%20Realidad%20Aumentada%20Web");
    });
    botonV.addEventListener("click", function(e)
    {
        window.open("fb://page/299366750897285");
    });
    insta.addEventListener("click",function(e){
        EntInsta.emit("an1");
        EntFace.emit("an2");
        window.setTimeout(function(e){
            window.open("https://www.instagram.com/tabatajaliloficial/");
        },2000);
    });
    face.addEventListener("click",function(e){
        EntInsta.emit("an2");
        EntFace.emit("an1");
        window.setTimeout(function(e){
            window.open("fb://page/299366750897285");
        },2000);
    });
    
    </script>
</html>