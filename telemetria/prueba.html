<!doctype HTML>
<html>
    <head>
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    </head>
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    
    <!--<script src="https://rawgit.com/nicolocarpignoli/nicolocarpignoli.github.io/master/ar-playground/events.js"></script>-->
    <!--<script src="https://cdn.rawgit.com/elbobo/aframe-multisrc-component/b6d23310/dist/0.3/aframe-multisrc-component.js"></script>-->
    <script src="scripts/marker.js"></script>
    <script src="scripts/multisrc.js"></script>
    <body style='margin : 0px; overflow: hidden;'>
        <!-- we add detectionMode and matrixCodeType to tell AR.js to recognize barcode markers -->
        <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>
            <a-assets>
                <a-asset-item id="pcModel" src="modelos/pc/scene.gltf"></a-asset-item>
                <img id="paredNegra" src="images/negro.png">
                <img id="caratula" src="images/caratula.png">
            </a-assets>
            
            
            <a-marker markerhandler emitevents="true" cursor="fuse: false; rayOrigin: mouse" id="animated-marker" type='barcode' value='6'>


               <a-entity id="mandoDistId" position="0 0 0" rotation="-25 0 0">

                   <a-entity id="pc-completa" position="0 0 .5" rotation="0 -40 0">
                       <a-plane position=".05 1.1 -1.35" rotation="0 0 0" width="2" height="1"
                        material="src: images/pantalla1.png"></a-plane>

                        <a-entity gltf-model="#pcModel" position="0 0 -1.5" scale=".5 .5 .5" rotation="0 0 0"></a-entity>
                        <a-animation
                        attribute="rotation"
                        dur="4000"
                        to="0 40 0"
                        easing="linear"
                        direction="alternate"
                        repeat="indefinite"
                        ></a-animation>
                   </a-entity>
                    

                   <a-box id="moduloId"  scale="1 .25 1" rotation="-25 0 0" position="0 .2 .5" opacity="1"
                   multisrc="srcs:#paredNegra,#paredNegra,#paredNegra,#paredNegra,#caratula,#paredNegra"
                   >
                   <a-animation
                        begin="1000"
                        attribute="opacity"
                        dur="300"
                        from=".6"
                        to="1"
                        easing="linear"
                        direction="normal"
                        repeat="3"
                        ></a-animation>
                    </a-box> 

               </a-entity>
                

            </a-marker>

            <a-entity camera></a-entity>
        </a-scene>
        
    </body>

</html>